  <?!= insertHeader() ?>
 
   <? var data = getPageData(); ?>
   <? var citation = findCiteFromLib(data.citeKey); ?>
    
    <div class="m-2 p-2 alert alert-secondary text-center">
    <h5><?= data.title; ?></h5>
    
    <? if(citation.hasOwnProperty('image')) { ?>
    <div class="text-center m-2 p-2">
    <img src="<?!= citation.image ?>" width="220px">
    </div>
    <div class="text-center m-3">
    <button class="action" onclick="google.script.run.insertImage('<?!= citation.image; ?>')"> Insert Image At Cursor </button>
    </div>
    <? } ?>
    
    <? if(data.hasOwnProperty('citeKey')) { ?>
    <div class="text-center mt-3 ml-3 mr-3 mb-3">
    <button class="action" onclick="google.script.run.insertCiteFromLib('<?!= data.citeKey; ?>')"> Insert Citation At Cursor</button>
    </div>
    <? } ?>
 
    
    </div>
    
    <div class="ml-2 mr-2 mt-2 mb-2 alert alert-success">
    
		<? var facts = data.facts; ?>
        
        <!-- facts and fxns are two arrays that should be the same length and matched up -->
		<? for (var i = 0; i < facts.length; i++) { ?>
        <div class="shadow p-2 m-2">
		<p><small><?!= facts[i]; ?></small></p>
        <div class="text-center mt-3 ml-3 mr-3 mb-3">
			<button class="action" onclick="google.script.run.getFact(<?!= i; ?>)">Insert Text At Cursor</button>
		</div>
        </div>
        
        
        <? } ?>
        </div>
  <?!= insertFooter(); ?>